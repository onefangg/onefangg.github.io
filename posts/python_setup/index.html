<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>using hatch for application development | directory</title>
<meta name="keywords" content="" />
<meta name="description" content="A barebones exploration of the use of hatch, for the use of development of a simple Python application.
Using this post as a form of reference or self-help link for python project set-up.
Or, you can skip the step-by-step tedious explanation by jumping to the full pyproject.toml file.
Creating a new project hatch new simple-app
It creates the project with the following project structure:
simple_app ├── src │ └── simple_app │ ├── __about__.">
<meta name="author" content="">
<link rel="canonical" href="https://onefangg.github.io/posts/python_setup/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://onefangg.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://onefangg.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://onefangg.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://onefangg.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://onefangg.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.91.2" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="using hatch for application development" />
<meta property="og:description" content="A barebones exploration of the use of hatch, for the use of development of a simple Python application.
Using this post as a form of reference or self-help link for python project set-up.
Or, you can skip the step-by-step tedious explanation by jumping to the full pyproject.toml file.
Creating a new project hatch new simple-app
It creates the project with the following project structure:
simple_app ├── src │ └── simple_app │ ├── __about__." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://onefangg.github.io/posts/python_setup/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-17T20:55:00&#43;08:00" />
<meta property="article:modified_time" content="2023-03-17T20:55:00&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="using hatch for application development"/>
<meta name="twitter:description" content="A barebones exploration of the use of hatch, for the use of development of a simple Python application.
Using this post as a form of reference or self-help link for python project set-up.
Or, you can skip the step-by-step tedious explanation by jumping to the full pyproject.toml file.
Creating a new project hatch new simple-app
It creates the project with the following project structure:
simple_app ├── src │ └── simple_app │ ├── __about__."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://onefangg.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "using hatch for application development",
      "item": "https://onefangg.github.io/posts/python_setup/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "using hatch for application development",
  "name": "using hatch for application development",
  "description": "A barebones exploration of the use of hatch, for the use of development of a simple Python application.\nUsing this post as a form of reference or self-help link for python project set-up.\nOr, you can skip the step-by-step tedious explanation by jumping to the full pyproject.toml file.\nCreating a new project hatch new simple-app\nIt creates the project with the following project structure:\nsimple_app ├── src │ └── simple_app │ ├── __about__.",
  "keywords": [
    
  ],
  "articleBody": "A barebones exploration of the use of hatch, for the use of development of a simple Python application.\nUsing this post as a form of reference or self-help link for python project set-up.\nOr, you can skip the step-by-step tedious explanation by jumping to the full pyproject.toml file.\nCreating a new project hatch new simple-app\nIt creates the project with the following project structure:\nsimple_app ├── src │ └── simple_app │ ├── __about__.py │ └── __init__.py ├── tests │ └── __init__.py ├── LICENSE.txt ├── README.md └── pyproject.toml Adding project dependencies We can run a simple web server with starlite and uvicorn on our machine, so let’s add the dependencies to the project first:\n[project] name = \"simple-app\" ... dependencies = [ \"starlite\", \"uvicorn[standard]\", ] After adding some basic code to instantiate the application, we can run it manually by using hatch shell - which namely, opens up the shell (in the default environment, inferring from project dependencies and anything specified in the default env) and we can get an instance of our application running with uvicorn simple_app.main:app.\nManaging Tests If we ran hatch to create our new project, we would have the default pytest and pytest-cov commands pre-configured for us, and we can simply run hatch run default:cov and so forth.\n Hatch also makes it easy to define environment variables from the config file for across different virtualenvs as well\nFor example,\n[tool.hatch.envs.dev.env-vars] DATABASE_URL = \"...\"  Adding development tools Let’s add libraries we need during development, and as well as their respective configs (if the tools are configured to be applied from pyproject.toml) :\n[tool.hatch.envs.dev] dependencies = [ ... \"ruff\" ] [tool.ruff] line-length = 120 Lock files There is currently no PEP for a standardised lock file format (yet). While other tools like poetry create their own lock files, we can also fall back to the use of requirements.txt. However, using just pip freeze  requirements.txt is not a good option.\nSince we already keep track of our own top-level dependencies, we can use pip-tools to help generate the lock file that we need.\nWith help from this issue, let’s reshuffle parts of the current pyproject.toml file:\n[project.optional-dependencies] dev = [ \"pytest\", \"pytest-cov\", \"mypy\", \"ruff\" ] [tool.hatch.envs.lock] dependencies = [ \"pip-tools\" ] [tool.hatch.envs.lock.scripts] ... prod = [ \"pip-compile --upgrade --resolver=backtracking -o requirements.txt pyproject.toml\", ] dev = [ \"pip-compile --extra dev --resolver=backtracking -o dev-requirements.txt pyproject.toml\" ] and we can run the respective commands to generate our lock files. For example - to generate lock files for the dev environment, we run hatch run lock:dev-lock.\nTo ensure that the environment created syncs up with the environments that hatch creates, we specify that their respective environments are installed with the lock files generated.\n[tool.hatch.envs.dev] dependencies = [ # we specify nothing in their environments ] pre-install-commands = [ \"pip install -r dev-requirements.txt\" ] TL;DR And the complete pyproject.toml file looks as such:\n[build-system] requires = [\"hatchling\"] build-backend = \"hatchling.build\" [project] name = \"simple-app\" description = '' readme = \"README.md\" requires-python = \"=3.7\" license = \"MIT\" keywords = [] authors = [ ] classifiers = [ \"Development Status :: 4 - Beta\", \"Programming Language :: Python\", \"Programming Language :: Python :: 3.7\", \"Programming Language :: Python :: 3.8\", \"Programming Language :: Python :: 3.9\", \"Programming Language :: Python :: 3.10\", \"Programming Language :: Python :: 3.11\", \"Programming Language :: Python :: Implementation :: CPython\", \"Programming Language :: Python :: Implementation :: PyPy\", ] dependencies = [ \"starlite\", \"uvicorn[standard]\", ] dynamic = [\"version\"] [project.urls] Documentation = \"https://github.com/unknown/simple-app#readme\" Issues = \"https://github.com/unknown/simple-app/issues\" Source = \"https://github.com/unknown/simple-app\" [project.optional-dependencies] dev = [ \"pytest\", \"pytest-cov\", \"mypy\", \"ruff\", ] [tool.hatch.version] path = \"simple_app/__about__.py\" [tool.hatch.envs.dev] pre-install-commands = [ \"pip install -r dev-requirements.txt\" ] dependencies = [ ] [tool.hatch.envs.dev.scripts] cov = \"pytest --cov-report=term-missing --cov-config=pyproject.toml --cov=simple_app --cov=tests {args}\" no-cov = \"cov --no-cov {args}\" [[tool.hatch.envs.test.matrix]] python = [\"37\", \"38\", \"39\", \"310\", \"311\"] [tool.hatch.envs.lock] dependencies = [ \"pip-tools\" ] [tool.hatch.envs.lock.scripts] prod = [ \"pip-compile --upgrade --resolver=backtracking -o prod-requirements.txt pyproject.toml\", ] dev = [ \"pip-compile --extra dev --resolver=backtracking -o dev-requirements.txt pyproject.toml\" ] [tool.ruff] line-length = 120 [tool.coverage.run] branch = true parallel = true omit = [ \"simple_app/__about__.py\", ] [tool.coverage.report] exclude_lines = [ \"no cov\", \"if __name__ == .__main__.:\", \"if TYPE_CHECKING:\", ] ",
  "wordCount" : "693",
  "inLanguage": "en",
  "datePublished": "2023-03-17T20:55:00+08:00",
  "dateModified": "2023-03-17T20:55:00+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://onefangg.github.io/posts/python_setup/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "directory",
    "logo": {
      "@type": "ImageObject",
      "url": "https://onefangg.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://onefangg.github.io/" accesskey="h" title="directory (Alt + H)">directory</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://onefangg.github.io/fang-paint/index.html" title="fang-paint">
                    <span>fang-paint</span>
                </a>
            </li>
            <li>
                <a href="https://onefangg.github.io/fang-utils/index.html" title="fang-utils">
                    <span>fang-utils</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      using hatch for application development
    </h1>
    <div class="post-meta"><span title='2023-03-17 20:55:00 +0800 +08'>March 17, 2023</span>

</div>
  </header> 
  <div class="post-content"><p>A barebones exploration of the use of <code>hatch</code>, for the use of development of a simple Python application.</p>
<p>Using this post as a form of reference or self-help link for python project set-up.</p>
<p>Or, you can skip the step-by-step tedious explanation by jumping to the <a href="#tldr"><strong>full pyproject.toml file</strong></a>.</p>
<h2 id="creating-a-new-project">Creating a new project<a hidden class="anchor" aria-hidden="true" href="#creating-a-new-project">#</a></h2>
<p><code>hatch new simple-app</code></p>
<p>It creates the project with the following project structure:</p>
<pre tabindex="0"><code>simple_app
├── src
│   └── simple_app
│       ├── __about__.py
│       └── __init__.py
├── tests
│   └── __init__.py
├── LICENSE.txt
├── README.md
└── pyproject.toml
</code></pre><h2 id="adding-project-dependencies">Adding project dependencies<a hidden class="anchor" aria-hidden="true" href="#adding-project-dependencies">#</a></h2>
<p>We can run a simple web server with <code>starlite</code> and <code>uvicorn</code> on our machine, so let&rsquo;s add the dependencies to the project first:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">project</span>]
<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;simple-app&#34;</span>
...
<span style="color:#a6e22e">dependencies</span> = [
  <span style="color:#e6db74">&#34;starlite&#34;</span>,
  <span style="color:#e6db74">&#34;uvicorn[standard]&#34;</span>,
]
</code></pre></div><p>After adding some basic code to instantiate the application, we can run it manually by using <code>hatch shell</code> - which namely, opens up the shell (in the default environment, inferring from project dependencies and anything specified in the default env) and we can get an instance of our application running with <code>uvicorn simple_app.main:app</code>.</p>
<h2 id="managing-tests">Managing Tests<a hidden class="anchor" aria-hidden="true" href="#managing-tests">#</a></h2>
<p>If we ran hatch to create our new project, we would have the default <code>pytest</code> and <code>pytest-cov</code> commands pre-configured for us, and we can simply run <code>hatch run default:cov</code> and so forth.</p>
<blockquote>
<p>Hatch also makes it easy to define environment variables from the config file for across different virtualenvs as well</p>
<p>For example,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">dev</span>.<span style="color:#a6e22e">env-vars</span>]
<span style="color:#a6e22e">DATABASE_URL</span> = <span style="color:#e6db74">&#34;...&#34;</span>
</code></pre></div></blockquote>
<h2 id="adding-development-tools">Adding development tools<a hidden class="anchor" aria-hidden="true" href="#adding-development-tools">#</a></h2>
<p>Let&rsquo;s add libraries we need during development, and as well as their respective configs (if the tools are configured to be applied from pyproject.toml) :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">dev</span>]
<span style="color:#a6e22e">dependencies</span> = [
  ...
  <span style="color:#e6db74">&#34;ruff&#34;</span>
]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">ruff</span>]
<span style="color:#a6e22e">line-length</span> = <span style="color:#ae81ff">120</span>
</code></pre></div><h2 id="lock-files">Lock files<a hidden class="anchor" aria-hidden="true" href="#lock-files">#</a></h2>
<p>There is currently no PEP for a standardised lock file format (yet). While other tools like <code>poetry</code> create their own lock files, we can also fall back to the use of <code>requirements.txt</code>. However, using just  <code>pip freeze &gt; requirements.txt</code> is not a <a href="https://alexo.dev/blog/avoiding-pip-freeze-2"><strong>good option</strong></a>.</p>
<p>Since we already keep track of our own top-level dependencies, we can use <code>pip-tools</code> to help generate the <a href="https://stackoverflow.com/questions/66751657/what-does-pip-compile-do-what-is-its-use-how-do-i-maintain-the-contents-of-my">lock file</a> that we need.</p>
<p>With help from <a href="https://github.com/pypa/hatch/issues/360"><strong>this issue</strong></a>, let&rsquo;s reshuffle parts of the current <code>pyproject.toml</code> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">project</span>.<span style="color:#a6e22e">optional-dependencies</span>]
<span style="color:#a6e22e">dev</span> = [
  <span style="color:#e6db74">&#34;pytest&#34;</span>,
  <span style="color:#e6db74">&#34;pytest-cov&#34;</span>,
  <span style="color:#e6db74">&#34;mypy&#34;</span>,
  <span style="color:#e6db74">&#34;ruff&#34;</span>
]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">lock</span>]
<span style="color:#a6e22e">dependencies</span> = [
  <span style="color:#e6db74">&#34;pip-tools&#34;</span>
]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">lock</span>.<span style="color:#a6e22e">scripts</span>]
...
<span style="color:#a6e22e">prod</span> = [
  <span style="color:#e6db74">&#34;pip-compile --upgrade --resolver=backtracking -o requirements.txt pyproject.toml&#34;</span>,
]
<span style="color:#a6e22e">dev</span> = [
  <span style="color:#e6db74">&#34;pip-compile --extra dev --resolver=backtracking -o dev-requirements.txt pyproject.toml&#34;</span>
]
</code></pre></div><p>and we can run the respective commands to generate our lock files. For example - to generate lock files for the dev environment, we run <code>hatch run lock:dev-lock</code>.</p>
<p>To ensure that the environment created syncs up with the environments that hatch creates, we specify that their respective environments are installed with the lock files generated.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">dev</span>]
<span style="color:#a6e22e">dependencies</span> = [
    <span style="color:#75715e"># we specify nothing in their environments</span>
]
<span style="color:#a6e22e">pre-install-commands</span> = [
  <span style="color:#e6db74">&#34;pip install -r dev-requirements.txt&#34;</span>
]
</code></pre></div><h2 id="tldr">TL;DR<a hidden class="anchor" aria-hidden="true" href="#tldr">#</a></h2>
<p>And the complete <code>pyproject.toml</code> file looks as such:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">build-system</span>]
<span style="color:#a6e22e">requires</span> = [<span style="color:#e6db74">&#34;hatchling&#34;</span>]
<span style="color:#a6e22e">build-backend</span> = <span style="color:#e6db74">&#34;hatchling.build&#34;</span>

[<span style="color:#a6e22e">project</span>]
<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;simple-app&#34;</span>
<span style="color:#a6e22e">description</span> = <span style="color:#e6db74">&#39;&#39;</span>
<span style="color:#a6e22e">readme</span> = <span style="color:#e6db74">&#34;README.md&#34;</span>
<span style="color:#a6e22e">requires-python</span> = <span style="color:#e6db74">&#34;&gt;=3.7&#34;</span>
<span style="color:#a6e22e">license</span> = <span style="color:#e6db74">&#34;MIT&#34;</span>
<span style="color:#a6e22e">keywords</span> = []
<span style="color:#a6e22e">authors</span> = [
]
<span style="color:#a6e22e">classifiers</span> = [
  <span style="color:#e6db74">&#34;Development Status :: 4 - Beta&#34;</span>,
  <span style="color:#e6db74">&#34;Programming Language :: Python&#34;</span>,
  <span style="color:#e6db74">&#34;Programming Language :: Python :: 3.7&#34;</span>,
  <span style="color:#e6db74">&#34;Programming Language :: Python :: 3.8&#34;</span>,
  <span style="color:#e6db74">&#34;Programming Language :: Python :: 3.9&#34;</span>,
  <span style="color:#e6db74">&#34;Programming Language :: Python :: 3.10&#34;</span>,
  <span style="color:#e6db74">&#34;Programming Language :: Python :: 3.11&#34;</span>,
  <span style="color:#e6db74">&#34;Programming Language :: Python :: Implementation :: CPython&#34;</span>,
  <span style="color:#e6db74">&#34;Programming Language :: Python :: Implementation :: PyPy&#34;</span>,
]
<span style="color:#a6e22e">dependencies</span> = [
  <span style="color:#e6db74">&#34;starlite&#34;</span>,
  <span style="color:#e6db74">&#34;uvicorn[standard]&#34;</span>,
]
<span style="color:#a6e22e">dynamic</span> = [<span style="color:#e6db74">&#34;version&#34;</span>]

[<span style="color:#a6e22e">project</span>.<span style="color:#a6e22e">urls</span>]
<span style="color:#a6e22e">Documentation</span> = <span style="color:#e6db74">&#34;https://github.com/unknown/simple-app#readme&#34;</span>
<span style="color:#a6e22e">Issues</span> = <span style="color:#e6db74">&#34;https://github.com/unknown/simple-app/issues&#34;</span>
<span style="color:#a6e22e">Source</span> = <span style="color:#e6db74">&#34;https://github.com/unknown/simple-app&#34;</span>

[<span style="color:#a6e22e">project</span>.<span style="color:#a6e22e">optional-dependencies</span>]
<span style="color:#a6e22e">dev</span> = [
  <span style="color:#e6db74">&#34;pytest&#34;</span>,
  <span style="color:#e6db74">&#34;pytest-cov&#34;</span>,
  <span style="color:#e6db74">&#34;mypy&#34;</span>,
  <span style="color:#e6db74">&#34;ruff&#34;</span>,
]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">version</span>]
<span style="color:#a6e22e">path</span> = <span style="color:#e6db74">&#34;simple_app/__about__.py&#34;</span>


[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">dev</span>]
<span style="color:#a6e22e">pre-install-commands</span> = [
  <span style="color:#e6db74">&#34;pip install -r dev-requirements.txt&#34;</span>
]
<span style="color:#a6e22e">dependencies</span> = [
]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">dev</span>.<span style="color:#a6e22e">scripts</span>]
<span style="color:#a6e22e">cov</span> = <span style="color:#e6db74">&#34;pytest --cov-report=term-missing --cov-config=pyproject.toml --cov=simple_app --cov=tests {args}&#34;</span>
<span style="color:#a6e22e">no-cov</span> = <span style="color:#e6db74">&#34;cov --no-cov {args}&#34;</span>

[[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">test</span>.<span style="color:#a6e22e">matrix</span>]]
<span style="color:#a6e22e">python</span> = [<span style="color:#e6db74">&#34;37&#34;</span>, <span style="color:#e6db74">&#34;38&#34;</span>, <span style="color:#e6db74">&#34;39&#34;</span>, <span style="color:#e6db74">&#34;310&#34;</span>, <span style="color:#e6db74">&#34;311&#34;</span>]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">lock</span>]
<span style="color:#a6e22e">dependencies</span> = [
  <span style="color:#e6db74">&#34;pip-tools&#34;</span>
]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">hatch</span>.<span style="color:#a6e22e">envs</span>.<span style="color:#a6e22e">lock</span>.<span style="color:#a6e22e">scripts</span>]
<span style="color:#a6e22e">prod</span> = [
  <span style="color:#e6db74">&#34;pip-compile --upgrade --resolver=backtracking -o prod-requirements.txt pyproject.toml&#34;</span>,
]
<span style="color:#a6e22e">dev</span> = [
  <span style="color:#e6db74">&#34;pip-compile --extra dev --resolver=backtracking -o dev-requirements.txt pyproject.toml&#34;</span>
]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">ruff</span>]
<span style="color:#a6e22e">line-length</span> = <span style="color:#ae81ff">120</span>

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">coverage</span>.<span style="color:#a6e22e">run</span>]
<span style="color:#a6e22e">branch</span> = <span style="color:#66d9ef">true</span>
<span style="color:#a6e22e">parallel</span> = <span style="color:#66d9ef">true</span>
<span style="color:#a6e22e">omit</span> = [
  <span style="color:#e6db74">&#34;simple_app/__about__.py&#34;</span>,
]

[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">coverage</span>.<span style="color:#a6e22e">report</span>]
<span style="color:#a6e22e">exclude_lines</span> = [
  <span style="color:#e6db74">&#34;no cov&#34;</span>,
  <span style="color:#e6db74">&#34;if __name__ == .__main__.:&#34;</span>,
  <span style="color:#e6db74">&#34;if TYPE_CHECKING:&#34;</span>,
]
</code></pre></div>

  </div>

  <footer class="post-footer">
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://onefangg.github.io/">directory</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
